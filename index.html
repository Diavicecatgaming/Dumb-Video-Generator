<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weird Video Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="text-white">
    <div class="max-w-4xl mx-auto p-8">
        <h1 class="text-4xl font-bold mb-6">ðŸŽ¬ Weird Video Studio</h1>

        <!-- Prompt -->
        <label class="block mb-2 font-semibold">Prompt</label>
        <textarea id="prompt" class="w-full p-3 rounded mb-4" placeholder="Describe your video idea..."></textarea>

        <!-- Video type -->
        <label class="block mb-2 font-semibold">Video Type</label>
        <select id="videoType" class="w-full p-3 rounded mb-4">
            <option value="meme">Meme</option>
            <option value="commentary">Commentary</option>
            <option value="tech">Tech Showcase</option>
            <option value="music">Music Video</option>
        </select>

        <!-- Generate button -->
        <button id="generateBtn" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded font-bold">
            Generate
        </button>

        <!-- Progress -->
        <div id="status" class="mt-6 text-lg"></div>

        <!-- Output -->
        <video id="outputVideo" controls class="mt-6 w-full rounded shadow-lg hidden"></video>
    </div>

    <script>
        document.getElementById("generateBtn").addEventListener("click", async () => {
            const prompt = document.getElementById("prompt").value;
            const videoType = document.getElementById("videoType").value;
            const status = document.getElementById("status");
            const outputVideo = document.getElementById("outputVideo");

            status.innerText = "Generating video...";
            outputVideo.classList.add("hidden");

            const res = await fetch("/generate", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ prompt, videoType })
            });

            if (!res.ok) {
                status.innerText = "Error generating video.";
                return;
            }

            const data = await res.json();
            status.innerText = "Done!";
            outputVideo.src = data.video_url;
            outputVideo.classList.remove("hidden");
        });
    </script>
</body>
</html>

